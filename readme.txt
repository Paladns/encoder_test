这个是读取编码器的值
使用的是串口

自己写的

pa6、pa7两个编码器的pin
pa2是tx pa3是rx

一圈大改700左右

后面操作主要都在这个工程吧

就是本来时钟的频率为72M(这个使我设置的)，然后分频系数PSC=1表示把这个时钟剪倍率到72M/(psc+1)=36M，然后ARR=3600-1，表示累加到3600就归零继续累加，然后我们能控制的就是CCR，通过判断CCR/(ARR+1)来判断当前的占空比，也就是给到电机的电压

现在开了TIM1作为pwm输出、TIM3作为编码器、TIM4作为内部时钟